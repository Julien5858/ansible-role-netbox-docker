services:
  netbox:
    environment:
{% if netbox_ldap_enabled %}
      REMOTE_AUTH_ENABLED: "True"
      REMOTE_AUTH_BACKEND: "netbox.authentication.LDAPBackend"
      AUTH_LDAP_SERVER_URI: "{{ netbox_ldap_server_uri }}"
      AUTH_LDAP_BIND_DN: "{{ netbox_ldap_bind_dn }}"
      AUTH_LDAP_BIND_PASSWORD: "{{ netbox_ldap_bind_password }}"
      AUTH_LDAP_USER_SEARCH_BASEDN: "{{ netbox_ldap_user_search_basedn }}"
      AUTH_LDAP_GROUP_SEARCH_BASEDN: "{{ netbox_ldap_group_search_basedn }}"
      AUTH_LDAP_REQUIRE_GROUP_DN: "{{ netbox_ldap_require_group_dn }}"
      AUTH_LDAP_GROUP_TYPE: "{{ netbox_ldap_group_type }}"
      AUTH_LDAP_IS_ACTIVE_DN: "{{ netbox_ldap_is_active_dn }}"
      AUTH_LDAP_IS_ADMIN_DN: "{{ netbox_ldap_is_admin_dn }}"
      AUTH_LDAP_IS_SUPERUSER_DN: "{{ netbox_ldap_is_superuser_dn }}"
      LDAP_IGNORE_CERT_ERRORS: "{{ netbox_ldap_ignore_cert_errors }}"
{% endif %}
